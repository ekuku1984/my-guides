React 中的组件，都是通过返回虚拟结点，然后再把虚拟根据情况展示到页面。

在 React 组件中操作组件的 DOM 元素，和常规直接通过使用 javascript 不一样了，在 javascript 中，设置一个元素是否可见，直接获取到元素的引用，然后通过设置 style.display 属性就可以了。

在 React 中，就完全不是这个流程了， 我们以 React.Component 组件为例来说， 在 React.Component 组件中，有个 render 方法，这个方法返回的是一个虚拟节点， React 根据这个虚拟节点的信息把内容显示到页面上，一个组件要怎么显示，逻辑基本上是写在了 render 方法里，在 render 方法里根据 props 或 state 两个对象的属性值来确定组件要怎么显示， 所以， 假如我们要显示或隐藏一个元素， 只需要改变 props 或 state 里的值就可以了。

props 属性的值在组件内部是不能修改的，他是只读的， props 是从外面传递进来的， 所以我们一般是修改 state 的值， 当我们点击一个按钮，要隐藏一个值时，就给 state 的某个属性设置一个值来标识某个元素应该要隐藏，当 state 里的属性值改变时， React 会重新调用 render 方法来获取新的虚拟节点。

这样给人的感觉是不是性能会很差？
虽然调用了 render 返回了新的虚拟节点，但是 React 并不是把所有的虚拟节点全部重新显示到页面，而是通过算法，计算出哪些节点需要重新显示到页面。

这样虽然感觉只是更新了某一部分元素， 但是在 render 里计算出组件要显示元素，这个过程在不停的计算，感觉也是挺影响性能的。

不过在 React.Component 有个 **shouldComponentUpdate** 方法用来指示当 props 或 state 更改时是否需要更新，每次 props 或 state 修改时都会调用此方法来判断是否需要改新。
